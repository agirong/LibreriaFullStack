@inherits LayoutComponentBase

<MudThemeProvider Theme="@_theme" IsDarkMode="_isDarkMode" />

<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="1">
        <MudIconButton Icon="@Icons.Material.Rounded.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
        <MudText Typo="Typo.h5" Class="ml-3">Libreía</MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />
    </MudAppBar>
    <MudDrawer @bind-Open="@_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
        <NavMenu />
    </MudDrawer>
    <MudMainContent Class="mt-16 pa-4">
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;
    private bool _isDarkMode = true; 
    private MudTheme _theme = null!; 

    protected override void OnInitialized()
    {
        base.OnInitialized();
        _theme = new()
            {                
                PaletteDark = _darkPalette,   
                LayoutProperties = new LayoutProperties()
                {
                    DefaultBorderRadius = "10px"
                },
                Typography = new Typography()
                {
                    Default = new Default()
                    {
                        FontFamily = new[] { "Roboto", "Helvetica", "Arial", "sans-serif" },
                        FontSize = ".875rem",
                        FontWeight = 400,
                        LineHeight = 1.43,
                        LetterSpacing = ".01071em"
                    },
                    H1 = new H1 { FontSize = "2.5rem", FontWeight = 300 },
                    H6 = new H6 { FontSize = "1.125rem", FontWeight = 500 },
                    Button = new Button { FontWeight = 500, TextTransform = "none" }
                }
            };
    }

    private readonly PaletteDark _darkPalette = new()
    {
            Primary = "#776be7",
            Secondary = "#ff4081",
            Tertiary = "#1ec8a5",
            Background = "#1b1f22",
            Surface = "#202528",
            AppbarBackground = "#161a1d",
            AppbarText = "rgba(255,255,255, 0.70)",
            DrawerBackground = "#161a1d",
            DrawerText = "rgba(255,255,255, 0.50)",
            DrawerIcon = "rgba(255,255,255, 0.50)",
            TextPrimary = "rgba(255,255,255, 0.70)",
            TextSecondary = "rgba(255,255,255, 0.50)",
            ActionDefault = "#adadb1",
            ActionDisabled = "rgba(255,255,255, 0.26)",
            ActionDisabledBackground = "rgba(255,255,255, 0.12)",
            Divider = "rgba(255,255,255, 0.12)",
            LinesDefault = "rgba(255,255,255, 0.12)",
            LinesInputs = "rgba(255,255,255, 0.3)",
            TableLines = "rgba(255,255,255, 0.12)",
            TableStriped = "rgba(255,255,255, 0.02)",
            TableHover = "rgba(255,255,255, 0.04)",
            Success = "#00c853",
            Info = "#2979ff",
            Warning = "#ff9800",
            Error = "#f44336"
    };

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}